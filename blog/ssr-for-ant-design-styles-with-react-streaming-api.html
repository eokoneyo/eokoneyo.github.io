<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/><meta name="description" content="I'm Eyo O. Eyo a Frontend Engineer born in Nigeria, currently living in Berlin."><meta name="author" content=""><meta name="theme-color" content="#000000"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="E.O.E."/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta property="og:title" content="Server-Side Rendering for Ant Design Styles with React's Streaming API"/><title>Server-Side Rendering for Ant Design Styles with React's Streaming API | Eyo O. Eyo</title><link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-chrome-512x512.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"><link rel="manifest" href="/assets/favicon/site.webmanifest"><link href="/assets/main.6fd7df7c.css" rel="stylesheet"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--><script>document.getElementsByTagName("html")[0].className+=" js"</script></head><body class="no-scroll" data-preloader-displayed="false"> <style>
    .preloader {
        z-index: 15;
        position: fixed;
        width: 100%;
    }

    .preloader .content-wrapper {
        width: 100%;
        height: calc(100vh);
        position: relative;
        text-align: center;
        display: flex;
        flex-wrap: wrap;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #000;
    }

    /**
    * styling for loading animation icon
    **/
    .knot__svg {
        transform: rotate(45deg);
        transform-origin: center;
    }

    .knot__svg .knot-progress {
        fill: none;
        stroke: #fff;
    }

    .knot__svg .knot-progress--path {}
    .knot__svg .knot-progress--fill {
         stroke-width: 3;
         stroke-dasharray: 280; /* length of path */
         stroke-dashoffset: 280;
         animation: dash 3s linear infinite;
    }

    @keyframes dash {
        to {
            stroke-dashoffset: 100;
        }
    }
</style><noscript> <style>
        .preloader {
            display: none;
        }

        body:not([data-preloader-displayed=true]) {
            overflow: initial;
        }
    </style></noscript><div class="preloader"> <svg aria-hidden="true" style="display:none"> <symbol id="preloader-knot" viewBox="0 0 100 100"> <path d="m 32.155932,23.941887 c 0,-15.9217751 19.285111,-23.81904177 30.467958,-12.635488 6.660085,6.715364 5.218757,10.597692 5.218757,45.234689 H 59.360082 V 23.941179 c 0,-12.403488 -18.715364,-12.409001 -18.715364,0 v 5.373423 H 32.162152 Z M 23.92742,67.856123 c -15.9104635,0 -23.7681441,-19.334592 -12.629973,-30.467959 6.57724,-6.571725 10.00674,-5.24081 45.229035,-5.24081 v 8.482565 h -32.59991 c -12.342838,0 -12.392461,18.749295 0,18.749295 h 5.40099 v 8.482564 z m 43.914236,8.228512 c 0,15.844016 -19.213008,23.796419 -30.462302,12.635487 -6.665599,-6.720878 -5.218756,-10.647315 -5.218756,-45.262964 h 8.482564 v 32.62677 c 0,12.364892 18.715365,12.37592 18.715365,0 v -5.40099 h 8.482564 z M 88.700283,62.637367 c -6.627004,6.566212 -10.404431,5.218756 -45.234689,5.218756 v -8.482564 h 32.599909 c 12.397975,0 12.342839,-18.749296 0,-18.749296 h -5.400989 v -8.482564 h 5.400989 c 15.817156,0 23.824697,19.213008 12.635487,30.494819 z"/> </symbol> </svg><div class="content-wrapper"> <svg class="knot__svg" width="100pt" height="100pt"> <use class="knot-progress knot-progress--path" xlink:href="#preloader-knot"/> <use class="knot-progress knot-progress--fill" xlink:href="#preloader-knot"/> </svg><h3 class="white-text">Loading...</h3></div> <svg class="shape" width="100%" height="100vh" preserveAspectRatio="none" viewBox="0 0 1440 800" xmlns:pathdata="http://www.codrops.com/"> <path d="M -44,-50 C -52.71,28.52 15.86,8.186 184,14.69 383.3,22.39 462.5,12.58 638,14 835.5,15.6 987,6.4 1194,13.86 1661,30.68 1652,-36.74 1582,-140.1 1512,-243.5 15.88,-589.5 -44,-50 Z" pathdata:id="M -44,-50 C -137.1,117.4 67.86,445.5 236,452 435.3,459.7 500.5,242.6 676,244 873.5,245.6 957,522.4 1154,594 1593,753.7 1793,226.3 1582,-126 1371,-478.3 219.8,-524.2 -44,-50 Z"></path> </svg></div><main id="page-top"> <header class="ns-header" id="header" g-component="NavigationComponent"><div class="header container"><div class="header__left"> <a href="/" class="header__brand-wrapper"> <span class="header__brand-text">E.O.E.</span> </a></div><div class="header__right"><div class="mobile-toggle js-mobile-menu-toggle" g-ref="mobileMenuToggle"><div class="mobile-toggle__icon"> <span></span> <span></span> <span></span></div></div><ul class="menu-list"><li class="menu-list-item active"> <a class="" href="/blog">Writing</a></li><li class="menu-list-item"> <a class="" href="/projects">Projects</a></li><li class="menu-list-item"> <a class="" href="/about">About</a></li></ul><div class="search js-search" id="search-field" data-animation="on" g-component="SearchComponent"><form class="search-form js-search-form" g-ref="SearchComponent:searchForm"> <label class="sr-only" for="searchInput">Search</label> <input class= "  search-form__input"   autocomplete="off" type="search" name="searchInput" id="searchInput" placeholder="Search..."> <button class="reset search-form__btn"> <svg class="icon" viewBox="0 0 24 24"><title>Search</title> <g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" stroke="currentColor" fill="none" stroke-miterlimit="10"> <line x1="22"   y1="22"   x2="15.656"   y2="15.656"/> <circle cx="10" cy="10" r="8"/> </g> </svg></button></form><div class="search__results js-search-result" g-ref="SearchComponent:searchResultContainer"></div></div></div></div> </header><div class="ns-default-layout"> <section class="ns-default-layout__content"><div class="container ns-posts" itemscope itemtype="https://schema.org/Article"><div class="row"><div class="column-sm-12"> <article class="article-wrapper"><h2 class="page-heading article__meta"> <span class="display-heading article__meta__title" itemprop="name">Server-Side Rendering for Ant Design Styles with React's Streaming API</span> <span class="article__meta__publish-date" itemprop="datePublished">03.08.2025</span></h2><p>I recently had reasons to use the Ant design component library with a remix run project mostly because of the well-documented, practical components the library provides. However, support for integrating ant design with any framework (remix in my case) that encourages rendering through streaming, is non-existent. While Ant Design’s documentation outlines steps for Vite (Remix’s build tool of choice), however, this approach resulted in FOUC<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>. I wanted something better than what was suggested that particularly catered to the streaming rendering paradigm remix run uses.</p><p>I couldn’t find any guidance on how one might go about integrating ant design, that is till I stumbled on a post<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> that discussed how one might go about supporting serverside rendering of ant design styles if one was rendering React to string. This then inspired me to adapt the principles suggested in the post to support React’s streaming paradigm.</p><p>We’ll want to create a helper class that will consolidate everything that relates to injecting server rendered styles into the document.</p><div class="language-typescript highlighter-shiki"><pre class="shiki vitesse-light twoslash lsp" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#A0ADA0">// @ts-expect-error -- this import errors becuase @ant-design/cssinjs is not installed</span></span>
<span class="line"><span style="color:#1E754F">import</span><span style="color:#999999"> {</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> extractStyle</span></code></span>extractStyle</span></span><span style="color:#999999"> }</span><span style="color:#1E754F"> from</span><span style="color:#B5695977"> '</span><span style="color:#B56959">@ant-design/cssinjs</span><span style="color:#B5695977">'</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">export</span><span style="color:#AB5959"> class</span><span style="color:#2E8F82"> </span><span style="color:#2E8F82"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">class</span><span style="color:#2E8F82"> InjectAntDSSRStyles</span></code></span>InjectAntDSSRStyles</span></span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#AB5959">  static</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesSigill</span><span style="color:#393A34">: </span><span style="color:#B07D48">string</span></code></span>stylesSigill</span></span><span style="color:#999999"> =</span><span style="color:#B5695977"> '</span><span style="color:#B56959">__ANTD__</span><span style="color:#B5695977">'</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959">  constructor</span><span style="color:#999999">(</span><span style="color:#AB5959">private</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesToInject</span><span style="color:#393A34">: </span><span style="color:#B07D48">any</span></code></span>stylesToInject</span></span><span style="color:#999999">: </span><span style="color:#2E8F82"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">type</span><span style="color:#2E8F82"> ReturnType</span><span style="color:#999999"><</span><span style="color:#2E8F82">T</span><span style="color:#AB5959"> extends</span><span style="color:#999999"> (...</span><span style="color:#B07D48">args</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span><span style="color:#999999">)</span><span style="color:#999999"> =></span><span style="color:#2E8F82"> any</span><span style="color:#999999">></span><span style="color:#999999"> =</span><span style="color:#2E8F82"> T</span><span style="color:#AB5959"> extends</span><span style="color:#999999"> (...</span><span style="color:#B07D48">args</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span><span style="color:#999999">)</span><span style="color:#999999"> =></span><span style="color:#AB5959"> infer</span><span style="color:#2E8F82"> R</span><span style="color:#AB5959"> ?</span><span style="color:#2E8F82"> R</span><span style="color:#AB5959"> :</span><span style="color:#2E8F82"> any</span></code><div class="twoslash-popup-docs">Obtain the return type of a function type</div></span>ReturnType</span></span><span style="color:#999999"><</span><span style="color:#AB5959">typeof</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> extractStyle</span></code></span>extractStyle</span></span><span style="color:#999999">>)</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#A65E2B">    this</span><span style="color:#999999">.</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesToInject</span><span style="color:#393A34">: </span><span style="color:#B07D48">any</span></code></span>stylesToInject</span></span><span style="color:#999999"> =</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">stylesToInject</span><span style="color:#999999">:</span><span style="color:#B07D48"> any</span></code></span>stylesToInject</span></span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#59873A">  </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#59873A">createTransformStream</span><span style="color:#999999">()</span><span style="color:#393A34">: </span><span style="color:#B07D48">TransformStream</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">></span></code></span>createTransformStream</span></span><span style="color:#999999">()</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#AB5959">    const </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">transformer</span><span style="color:#999999">: </span><span style="color:#2E8F82">Transformer</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">, </span><span style="color:#2E8F82">any</span><span style="color:#999999">></span></code></span>transformer</span></span><span style="color:#999999">: </span><span style="color:#2E8F82"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">interface</span><span style="color:#2E8F82"> Transformer</span><span style="color:#999999"><</span><span style="color:#2E8F82">I</span><span style="color:#999999"> =</span><span style="color:#2E8F82"> any</span><span style="color:#999999">,</span><span style="color:#2E8F82"> O</span><span style="color:#999999"> =</span><span style="color:#2E8F82"> any</span><span style="color:#999999">></span></code></span>Transformer</span></span><span style="color:#999999"> =</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#59873A">      </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">Transformer</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">>.</span><span style="color:#B07D48">start</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> TransformerStartCallback</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span><span style="color:#AB5959"> |</span><span style="color:#AB5959"> undefined</span></code></span>start</span></span><span style="color:#999999">() {},</span></span>
<span class="line"><span style="color:#59873A">      </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">Transformer</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">>.</span><span style="color:#B07D48">transform</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> TransformerTransformCallback</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">></span><span style="color:#AB5959"> |</span><span style="color:#AB5959"> undefined</span></code></span>transform</span></span><span style="color:#999999">: (</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">chunk</span><span style="color:#999999">:</span><span style="color:#B07D48"> any</span></code></span>chunk</span></span><span style="color:#999999">, </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">controller</span><span style="color:#999999">:</span><span style="color:#B07D48"> TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span></code></span>controller</span></span><span style="color:#999999">) => {</span></span>
<span class="line"><span style="color:#AB5959">        const </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">text</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span></code></span>text</span></span><span style="color:#999999"> =</span><span style="color:#AB5959"> new </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">var </span><span style="color:#B07D48">TextDecoder</span><span style="color:#999999">: </span><span style="color:#1E754F">new</span><span style="color:#999999"> (</span><span style="color:#B07D48">label</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span><span style="color:#999999">, </span><span style="color:#B07D48">options</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">TextDecoderOptions</span><span style="color:#999999">) => </span><span style="color:#2E8F82">TextDecoder</span></code><div class="twoslash-popup-docs">The **`TextDecoder`** interface represents a decoder for a specific text encoding, such as `UTF-8`, `ISO-8859-2`, `KOI8-R`, `GBK`, etc.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TextDecoder)


`TextDecoder` class is a global reference for `require('util').TextDecoder`
https://nodejs.org/api/globals.html#textdecoder</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@since</span><span class="twoslash-popup-docs-tag-value">v11.0.0</span></span></div></span>TextDecoder</span></span><span style="color:#999999">().</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">TextDecoder</span><span style="color:#999999">.</span><span style="color:#59873A">decode</span><span style="color:#999999">(</span><span style="color:#B07D48">input</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> AllowSharedBufferSource</span><span style="color:#999999">,</span><span style="color:#B07D48"> options</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> TextDecodeOptions</span><span style="color:#999999">)</span><span style="color:#393A34">: </span><span style="color:#B07D48">string</span></code><div class="twoslash-popup-docs">The **`TextDecoder.decode()`** method returns a string containing text decoded from the buffer passed as a parameter.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TextDecoder/decode)</div></span>decode</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">chunk</span><span style="color:#999999">:</span><span style="color:#B07D48"> any</span></code></span>chunk</span></span><span style="color:#999999">);</span></span>
<span class="line"><span style="color:#AB5959">        const </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">replaced</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span></code></span>replaced</span></span><span style="color:#999999"> =</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">text</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span></code></span>text</span></span><span style="color:#999999">.</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">String</span><span style="color:#999999">.</span><span style="color:#59873A">replace</span><span style="color:#999999">(</span><span style="color:#B07D48">searchValue</span><span style="color:#393A34">: </span><span style="color:#B07D48">string</span><span style="color:#AB5959"> |</span><span style="color:#B07D48"> RegExp</span><span style="color:#999999">,</span><span style="color:#B07D48"> replaceValue</span><span style="color:#393A34">: </span><span style="color:#B07D48">string</span><span style="color:#999999">)</span><span style="color:#393A34">: </span><span style="color:#59873A">string</span><span style="color:#999999"> (</span><span style="color:#AB5959">+</span><span style="color:#2F798A">3</span><span style="color:#B07D48"> overloads</span><span style="color:#999999">)</span></code><div class="twoslash-popup-docs">Replaces text in a string, using a regular expression or search string.</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">searchValue A string or regular expression to search for.</span></span><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@param</span><span class="twoslash-popup-docs-tag-value">replaceValue A string containing the text to replace. When the {@linkcode searchValue} is a `RegExp`, all matches are replaced if the `g` flag is set (or only those matches at the beginning, if the `y` flag is also present). Otherwise, only the first match of {@linkcode searchValue} is replaced.</span></span></div></span>replace</span></span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B07D48">          </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">class</span><span style="color:#2E8F82"> InjectAntDSSRStyles</span></code></span>InjectAntDSSRStyles</span></span><span style="color:#999999">.</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesSigill</span><span style="color:#393A34">: </span><span style="color:#B07D48">string</span></code></span>stylesSigill</span></span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#A65E2B">          this</span><span style="color:#999999">.</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesToInject</span><span style="color:#393A34">: </span><span style="color:#B07D48">any</span></code></span>stylesToInject</span></span></span>
<span class="line"><span style="color:#999999">        );</span></span>
<span class="line"><span style="color:#B07D48">        </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">controller</span><span style="color:#999999">:</span><span style="color:#B07D48"> TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span></code></span>controller</span></span><span style="color:#999999">.</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">>.</span><span style="color:#59873A">enqueue</span><span style="color:#999999">(</span><span style="color:#B07D48">chunk</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> any</span><span style="color:#999999">)</span><span style="color:#393A34">: </span><span style="color:#AB5959">void</span></code><div class="twoslash-popup-docs">The **`enqueue()`** method of the TransformStreamDefaultController interface enqueues the given chunk in the readable side of the stream.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/enqueue)</div></span>enqueue</span></span><span style="color:#999999">(</span><span style="color:#AB5959">new</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">var </span><span style="color:#B07D48">TextEncoder</span><span style="color:#999999">: </span><span style="color:#1E754F">new</span><span style="color:#999999"> () => </span><span style="color:#2E8F82">TextEncoder</span></code><div class="twoslash-popup-docs">The **`TextEncoder`** interface takes a stream of code points as input and emits a stream of UTF-8 bytes.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoder)


`TextEncoder` class is a global reference for `require('util').TextEncoder`
https://nodejs.org/api/globals.html#textencoder</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@since</span><span class="twoslash-popup-docs-tag-value">v11.0.0</span></span></div></span>TextEncoder</span></span><span style="color:#999999">().</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">TextEncoder</span><span style="color:#999999">.</span><span style="color:#59873A">encode</span><span style="color:#999999">(</span><span style="color:#B07D48">input</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> string</span><span style="color:#999999">)</span><span style="color:#393A34">: </span><span style="color:#B07D48">Uint8Array</span><span style="color:#999999"><</span><span style="color:#B07D48">ArrayBuffer</span><span style="color:#999999">></span></code><div class="twoslash-popup-docs">The **`TextEncoder.encode()`** method takes a string as input, and returns a Global_Objects/Uint8Array containing the text given in parameters encoded with the specific method for that TextEncoder object.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TextEncoder/encode)</div></span>encode</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">replaced</span><span style="color:#999999">: </span><span style="color:#2E8F82">string</span></code></span>replaced</span></span><span style="color:#999999">));</span></span>
<span class="line"><span style="color:#999999">      },</span></span>
<span class="line"><span style="color:#59873A">      </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">Transformer</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">>.</span><span style="color:#B07D48">flush</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> TransformerFlushCallback</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span><span style="color:#AB5959"> |</span><span style="color:#AB5959"> undefined</span></code></span>flush</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">controller</span><span style="color:#999999">:</span><span style="color:#B07D48"> TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span></code></span>controller</span></span><span style="color:#999999">) {</span></span>
<span class="line"><span style="color:#B07D48">        </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">controller</span><span style="color:#999999">:</span><span style="color:#B07D48"> TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span></code></span>controller</span></span><span style="color:#999999">.</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">TransformStreamDefaultController</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">>.</span><span style="color:#59873A">terminate</span><span style="color:#999999">()</span><span style="color:#393A34">: </span><span style="color:#AB5959">void</span></code><div class="twoslash-popup-docs">The **`terminate()`** method of the TransformStreamDefaultController interface closes the readable side and errors the writable side of the stream.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStreamDefaultController/terminate)</div></span>terminate</span></span><span style="color:#999999">();</span></span>
<span class="line"><span style="color:#999999">      },</span></span>
<span class="line"><span style="color:#999999">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">    return</span><span style="color:#AB5959"> new</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">var </span><span style="color:#B07D48">TransformStream</span><span style="color:#999999">: </span><span style="color:#1E754F">new</span><span style="color:#999999"> <</span><span style="color:#2E8F82">any</span><span style="color:#999999">, </span><span style="color:#2E8F82">any</span><span style="color:#999999">>(</span><span style="color:#B07D48">transformer</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">Transformer</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">, </span><span style="color:#2E8F82">any</span><span style="color:#999999">> | </span><span style="color:#AB5959">undefined</span><span style="color:#999999">, </span><span style="color:#B07D48">writableStrategy</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">QueuingStrategy</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">> | </span><span style="color:#AB5959">undefined</span><span style="color:#999999">, </span><span style="color:#B07D48">readableStrategy</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">QueuingStrategy</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">> | </span><span style="color:#AB5959">undefined</span><span style="color:#999999">) => </span><span style="color:#2E8F82">TransformStream</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">, </span><span style="color:#2E8F82">any</span><span style="color:#999999">></span></code><div class="twoslash-popup-docs">The **`TransformStream`** interface of the Streams API represents a concrete implementation of the pipe chain _transform stream_ concept.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/TransformStream)</div></span>TransformStream</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const </span><span style="color:#B07D48">transformer</span><span style="color:#999999">: </span><span style="color:#2E8F82">Transformer</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">, </span><span style="color:#2E8F82">any</span><span style="color:#999999">></span></code></span>transformer</span></span><span style="color:#999999">);</span></span>
<span class="line"><span style="color:#999999">  }</span></span>
<span class="line"><span style="color:#999999">}</span></span>
<span class="line"></span></code></pre></div><p>In our <code>root.tsx</code> (or equivalent) file, we would then use the static property <code>stylesSigill</code> on our predefined <code>InjectAntDSSRStyles</code> class to create a placeholder in the html document that would get streamed to the user from the server like so;</p><div class="language-typescript highlighter-shiki"><pre class="shiki vitesse-light has-diff twoslash lsp" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#A0ADA0">// @ts-expect-error -- this errors because InjectAntDSSRStyles is expected to be imported</span></span>
<span class="line diff add"><span style="color:#AB5959">typeof</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">var </span><span style="color:#B07D48">document</span><span style="color:#999999">: </span><span style="color:#2E8F82">Document</span></code><div class="twoslash-popup-docs">**`window.document`** returns a reference to the document contained in the window.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/Window/document)</div></span>document</span></span><span style="color:#AB5959"> ===</span><span style="color:#B5695977"> '</span><span style="color:#B56959">undefined</span><span style="color:#B5695977">'</span><span style="color:#AB5959"> ?</span><span style="color:#B07D48"> </span><span style="color:#B07D48">InjectAntDSSRStyles</span><span style="color:#999999">.</span><span style="color:#B07D48">stylesSigill</span><span style="color:#AB5959"> :</span><span style="color:#B5695977"> ''</span></span>
<span class="line"></span></code></pre></div><p>Given we’ve followed the steps above, next we use the <code>InjectAntDSSRStyles</code> class in our server’s <code>handleRequest</code> (or equivalent) function to inject the styles extracted from the document to be rendered into the response stream that will be sent to the user, below is a diff of how the <code>handleRequest</code> function would look like after we’ve integrated our helper class;</p><div class="language-tsx highlighter-shiki"><pre class="shiki vitesse-light has-diff twoslash lsp" style="background-color:#ffffff;color:#393a34" tabindex="0"><code><span class="line"><span style="color:#1E754F">import</span><span style="color:#B07D48"> </span><span style="color:#B07D48">React</span><span style="color:#1E754F"> from</span><span style="color:#B5695977"> '</span><span style="color:#B56959">react</span><span style="color:#B5695977">'</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#1E754F">import</span><span style="color:#999999"> {</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">function</span><span style="color:#59873A"> renderToReadableStream</span><span style="color:#999999">(</span><span style="color:#B07D48">children</span><span style="color:#999999">: </span><span style="color:#2E8F82">React</span><span style="color:#999999">.</span><span style="color:#2E8F82">ReactNode</span><span style="color:#999999">,</span><span style="color:#B07D48"> options</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">RenderToReadableStreamOptions</span><span style="color:#999999">):</span><span style="color:#2E8F82"> Promise</span><span style="color:#999999"><</span><span style="color:#2E8F82">ReactDOMServerReadableStream</span><span style="color:#999999">></span></code><div class="twoslash-popup-docs">Only available in the environments with [Web Streams](https://developer.mozilla.org/en-US/docs/Web/API/Streams_API) (this includes browsers, Deno, and some modern edge runtimes).</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@see</span><span class="twoslash-popup-docs-tag-value">[API](https://reactjs.org/docs/react-dom-server.html#rendertoreadablestream)</span></span></div></span>renderToReadableStream</span></span><span style="color:#999999"> }</span><span style="color:#1E754F"> from</span><span style="color:#B5695977"> '</span><span style="color:#B56959">react-dom/server</span><span style="color:#B5695977">'</span><span style="color:#999999">;</span></span>
<span class="line"><span style="color:#A0ADA0">// @ts-expect-error -- this import returns an error becuase @ant-design/cssinjs is not installed</span></span>
<span class="line diff add"><span style="color:#1E754F">import</span><span style="color:#999999"> {</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> createCache</span></code></span>createCache</span></span><span style="color:#999999">,</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> extractStyle</span></code></span>extractStyle</span></span><span style="color:#999999">,</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> StyleProvider</span></code></span>StyleProvider</span></span><span style="color:#999999"> }</span><span style="color:#1E754F"> from</span><span style="color:#B5695977"> '</span><span style="color:#B56959">@ant-design/cssinjs</span><span style="color:#B5695977">'</span><span style="color:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1E754F">export</span><span style="color:#1E754F"> default</span><span style="color:#AB5959"> async</span><span style="color:#AB5959"> function</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">function</span><span style="color:#59873A"> handleRequest</span><span style="color:#999999">(</span><span style="color:#B07D48">request</span><span style="color:#999999">: </span><span style="color:#2E8F82">Request</span><span style="color:#999999">,</span><span style="color:#B07D48"> responseStatusCode</span><span style="color:#999999">: </span><span style="color:#2E8F82">number</span><span style="color:#999999">,</span><span style="color:#B07D48"> responseHeaders</span><span style="color:#999999">: </span><span style="color:#2E8F82">Headers</span><span style="color:#999999">,</span><span style="color:#999999"> ...</span><span style="color:#B07D48">rest</span><span style="color:#999999">: </span><span style="color:#2E8F82">unknown</span><span style="color:#999999">[]):</span><span style="color:#2E8F82"> Promise</span><span style="color:#999999"><</span><span style="color:#2E8F82">Response</span><span style="color:#999999">></span></code></span>handleRequest</span></span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#B07D48">  </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">request</span><span style="color:#999999">:</span><span style="color:#B07D48"> Request</span></code></span>request</span></span><span style="color:#999999">: </span><span style="color:#2E8F82">Request</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">responseStatusCode</span><span style="color:#999999">:</span><span style="color:#B07D48"> number</span></code></span>responseStatusCode</span></span><span style="color:#999999">: </span><span style="color:#2E8F82">number</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#B07D48">  </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">responseHeaders</span><span style="color:#999999">:</span><span style="color:#B07D48"> Headers</span></code></span>responseHeaders</span></span><span style="color:#999999">: </span><span style="color:#2E8F82">Headers</span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  ...</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">rest</span><span style="color:#999999">:</span><span style="color:#B07D48"> unknown</span><span style="color:#999999">[]</span></code></span>rest</span></span><span style="color:#999999">: </span><span style="color:#2E8F82">unknown</span><span style="color:#999999">[] </span><span style="color:#A0ADA0">// other parameters specific to your remix run setup</span></span>
<span class="line"><span style="color:#999999">)</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#A0ADA0">  // we'd want to create this cache before constructing the</span></span>
<span class="line"><span style="color:#A0ADA0">  // react tree that'll be rendered</span></span>
<span class="line diff add"><span style="color:#AB5959">  const</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> antDStyleCache</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span></code></span>antDStyleCache</span></span><span style="color:#999999"> =</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> createCache</span></code></span>createCache</span></span><span style="color:#999999">();</span></span>
<span class="line"><span style="color:#393A34">  </span></span>
<span class="line"><span style="color:#AB5959">  const</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> body</span><span style="color:#999999">: </span><span style="color:#2E8F82">ReactDOMServerReadableStream</span></code></span>body</span></span><span style="color:#999999"> =</span><span style="color:#1E754F"> await</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">function</span><span style="color:#59873A"> renderToReadableStream</span><span style="color:#999999">(</span><span style="color:#B07D48">children</span><span style="color:#999999">: </span><span style="color:#2E8F82">React</span><span style="color:#999999">.</span><span style="color:#2E8F82">ReactNode</span><span style="color:#999999">,</span><span style="color:#B07D48"> options</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">RenderToReadableStreamOptions</span><span style="color:#999999">):</span><span style="color:#2E8F82"> Promise</span><span style="color:#999999"><</span><span style="color:#2E8F82">ReactDOMServerReadableStream</span><span style="color:#999999">></span></code><div class="twoslash-popup-docs">Only available in the environments with [Web Streams](https://developer.mozilla.org/en-US/docs/Web/API/Streams_API) (this includes browsers, Deno, and some modern edge runtimes).</div><div class="twoslash-popup-docs twoslash-popup-docs-tags"><span class="twoslash-popup-docs-tag"><span class="twoslash-popup-docs-tag-name">@see</span><span class="twoslash-popup-docs-tag-value">[API](https://reactjs.org/docs/react-dom-server.html#rendertoreadablestream)</span></span></div></span>renderToReadableStream</span></span><span style="color:#999999">(</span></span>
<span class="line"><span style="color:#A0ADA0">    // we include the cache in the StyleProvider component</span></span>
<span class="line diff add"><span style="color:#999999">    <</span><span style="color:#998418"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> StyleProvider</span></code></span>StyleProvider</span></span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">cache</span><span style="color:#999999">:</span><span style="color:#B07D48"> any</span></code></span>cache</span></span><span style="color:#999999">={</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> antDStyleCache</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span></code></span>antDStyleCache</span></span><span style="color:#999999">}></span></span>
<span class="line"><span style="color:#393A34">      ...</span></span>
<span class="line diff add"><span style="color:#999999">    </</span><span style="color:#998418"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> StyleProvider</span></code></span>StyleProvider</span></span><span style="color:#999999">>,</span></span>
<span class="line"><span style="color:#999999">  );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0">  // @ts-expect-error -- this errors because InjectAntDSSRStyles is expected to be imported</span></span>
<span class="line diff add"><span style="color:#AB5959">  const</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> injectAntdStyles</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span></code></span>injectAntdStyles</span></span><span style="color:#999999"> =</span><span style="color:#AB5959"> new</span><span style="color:#59873A"> </span><span style="color:#59873A">InjectAntDSSRStyles</span><span style="color:#999999">(</span></span>
<span class="line diff add"><span style="color:#59873A">    </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#1E754F">import</span><span style="color:#B07D48"> extractStyle</span></code></span>extractStyle</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> antDStyleCache</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span></code></span>antDStyleCache</span></span><span style="color:#999999">)</span></span>
<span class="line diff add"><span style="color:#999999">  ).</span><span style="color:#59873A">createTransformStream</span><span style="color:#999999">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0">  // finally we pipe the stream response through the util we created</span></span>
<span class="line diff add"><span style="color:#1E754F">  return</span><span style="color:#AB5959"> new</span><span style="color:#59873A"> </span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">var</span><span style="color:#B07D48"> Response</span><span style="color:#999999">: </span><span style="color:#1E754F">new</span><span style="color:#999999"> (</span><span style="color:#B07D48">body</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">BodyInit</span><span style="color:#999999"> | </span><span style="color:#AB5959">null</span><span style="color:#999999">, </span><span style="color:#B07D48">init</span><span style="color:#AB5959">?</span><span style="color:#999999">: </span><span style="color:#2E8F82">ResponseInit</span><span style="color:#999999">) => </span><span style="color:#2E8F82">Response</span></code><div class="twoslash-popup-docs">The **`Response`** interface of the Fetch API represents the response to a request.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/Response)</div></span>Response</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> body</span><span style="color:#999999">: </span><span style="color:#2E8F82">ReactDOMServerReadableStream</span></code></span>body</span></span><span style="color:#999999">.</span><span style="color:#59873A"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">ReadableStream</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">>.</span><span style="color:#59873A">pipeThrough</span><span style="color:#999999"><</span><span style="color:#2E8F82">any</span><span style="color:#999999">>(</span><span style="color:#B07D48">transform</span><span style="color:#393A34">: </span><span style="color:#B07D48">ReadableWritablePair</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">,</span><span style="color:#B07D48"> any</span><span style="color:#999999">>,</span><span style="color:#B07D48"> options</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> StreamPipeOptions</span><span style="color:#999999">)</span><span style="color:#393A34">: </span><span style="color:#B07D48">ReadableStream</span><span style="color:#999999"><</span><span style="color:#B07D48">any</span><span style="color:#999999">></span></code><div class="twoslash-popup-docs">The **`pipeThrough()`** method of the ReadableStream interface provides a chainable way of piping the current stream through a transform stream or any other writable/readable pair.

[MDN Reference](https://developer.mozilla.org/docs/Web/API/ReadableStream/pipeThrough)</div></span>pipeThrough</span></span><span style="color:#999999">(</span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#AB5959">const</span><span style="color:#B07D48"> injectAntdStyles</span><span style="color:#999999">: </span><span style="color:#2E8F82">any</span></code></span>injectAntdStyles</span></span><span style="color:#999999">),</span><span style="color:#999999"> {</span></span>
<span class="line"><span style="color:#998418">    </span><span style="color:#998418"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">ResponseInit</span><span style="color:#999999">.</span><span style="color:#B07D48">headers</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> HeadersInit</span><span style="color:#AB5959"> |</span><span style="color:#AB5959"> undefined</span></code></span>headers</span></span><span style="color:#999999">:</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">responseHeaders</span><span style="color:#999999">:</span><span style="color:#B07D48"> Headers</span></code></span>responseHeaders</span></span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#998418">    </span><span style="color:#998418"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#B07D48">ResponseInit</span><span style="color:#999999">.</span><span style="color:#B07D48">status</span><span style="color:#AB5959">?:</span><span style="color:#B07D48"> number</span><span style="color:#AB5959"> |</span><span style="color:#AB5959"> undefined</span></code></span>status</span></span><span style="color:#999999">:</span><span style="color:#B07D48"> </span><span style="color:#B07D48"><span class="twoslash-hover"><span class="twoslash-popup-container"><code class="twoslash-popup-code"><span style="color:#59873A">responseStatusCode</span><span style="color:#999999">:</span><span style="color:#B07D48"> number</span></code></span>responseStatusCode</span></span><span style="color:#999999">,</span></span>
<span class="line"><span style="color:#999999">  });</span></span>
<span class="line"><span style="color:#999999">}</span></span>
<span class="line"></span></code></pre></div><h3 id="references">References</h3><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p><a href="https://webkit.org/blog/66/the-fouc-problem/" target="\_blank">FOUC</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:2" role="doc-endnote"><p><a href="https://juejin.cn/post/7213923957823995960" target="\_blank">Remix 集成 antd 和 pro-components</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p></li></ol></div> </article></div></div></div></section> <footer class="ns-footer"><div style="padding:50px 0"><div class="container text-center"><div class="row"><div class="column-sm-12 column-md-6"><h4 class="page-heading page-heading--with-action"> <span class="display-heading display-heading--decorated">Connect;</span></h4><ul class="footer-socials"><li class="social-icon--link"> <a class="" href="https://www.linkedin.com/in/eyo-eyo-9a027a96/" target="_blank" rel="noopener"> <span class="social-icon--title">LinkedIn</span> </a></li><li class="social-icon--link"> <a class="" href="https://github.com/eokoneyo" target="_blank" rel="noopener"> <span class="social-icon--title">GitHub</span> </a></li><li class="social-icon--link"> <a class="" href="https://stackoverflow.com/users/4398075/eyo-okon-eyo?tab=profile" target="_blank" rel="noopener"> <span class="social-icon--title">StackOverflow</span> </a></li><li class="social-icon--link"> <a class="" href="https://x.com/eokoneyo" target="_blank" rel="noopener"> <span class="social-icon--title">X</span> </a></li></ul></div></div></div><div class="blog-footer"><div class="container"><div class="row"><div class="column-sm-12 column-lg-6"><div class="dev-details"><p class="endnote_ts">Composed using <a data-disable-visual="true" href="https://jekyllrb.com/" target="_blank" rel="noopener"><b>Jekyll</b></a>.</p><p class="endnote_ts">Content &copy 2025, Eyo O. Eyo.</p><p class="endnote_ts">Build version: <span class="caption_ts">451a2dedf9657f19a0b7</span></p></div></div><div class="column-sm-12 column-lg-6"><div class="page-scroll"> <a class="page-scroll--link" href="#page-top">Back to top</a></div></div></div></div></div></div> </footer></div></main> <script src="/assets/main-bundle.ed9cf92e.js"></script><script src="/assets/runtime-bundle.38bf5102.js"></script><script src="/assets/vendors-bundle.b24c85bf.js"></script><script nonce='451a2ded'>"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js?version=451a2dedf9657f19a0b7",{scope:"/"})})</script></body></html>