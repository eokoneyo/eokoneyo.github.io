@use '../config/mq';
@use '../variables';
@use '../base/typography';

div[class|='language'] {
  margin: 0;

  pre {
    padding: mq.px2em(20px) 0;

    code {
      display: block;
      overflow: auto visible;
      font-family: typography.$mono-font;

      .line {
        line-height: 1.5;
      }

      .diff {
        &.add {
          &::before {
            content: '+';
            color: green;
            position: absolute;
            left: 0;
          }
        }

        &.remove {
          &::before {
            content: '-';
            color: red;
            position: absolute;
            left: 0;
          }
        }
      }
    }
  }

  .twoslash {
    &-hover {
      position: unset;
    }

    &-popup {
      &-container {
        display: flex;
        max-width: 90%;

        > * {
          text-wrap-mode: wrap;
          flex-grow: 1;
        }
      }
    }
  }

  @include mq.mq($from: desktop) {
    margin-right: calc(50% - 50vw);
    max-width: mq.px2em(
      variables.$large-grid-max-width - (variables.$grid-gutter-size * 2)
    );
  }

  @include mq.mq($from: wide) {
    max-width: mq.px2em(
      variables.$xlarge-grid-max-width - (variables.$grid-gutter-size * 2)
    );
  }
}
