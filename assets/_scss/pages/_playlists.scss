@use '../config/mq';
@use '../variables';
@use '../base/typography';
@import '../mixins/decorated_horizontal_divider';

.ns-playlists {
  @include mq.mq($from: tablet) {
    position: relative;
    padding: mq.px2em(100px) 0 mq.px2em(250px) 0;

    .page-heading {
      position: absolute;
      z-index: variables.$zindex-fixed-element;
      bottom: 0;
      width: 100%;
    }
  }

  #Playlists {
    .loader {
      display: flex;
      margin: mq.px2em(50px) 0;
      min-height: mq.px2em(200px);
      flex-direction: column;
      align-items: center;

      &[hidden] {
        display: none;
      }

      .knot__svg {
        .knot-progress {
          stroke: variables.$dark;
        }
      }
    }

    .content {
      opacity: 0;

      .scroll-indicator {
        display: block;
        text-align: right;
      }

      .playlist {
        &-wrapper {
          flex-wrap: nowrap;
          overflow: auto;
        }

        &-item {
          margin-bottom: mq.px2em(20px);
          height: mq.px2em(400px);
          width: 100%;
          flex-basis: 100%;
          flex-shrink: 0;

          figure {
            margin: 0;
            height: 100%;
            position: relative;
            @include decorated_horizontal_divider();
          }

          a {
            height: 100%;
            width: inherit;
            display: flex;
            padding: mq.px2em(20px) mq.px2em(25px);
            flex-direction: column;
            justify-content: space-evenly;
          }

          picture,
          img {
            width: 100%;
            height: auto;
          }

          figcaption {
            font-family: typography.$mono-font;
            margin: mq.px2em(10px) 0;
            letter-spacing: mq.px2em(1px);
          }

          @include mq.mq($from: tablet) {
            flex-basis: 50%;
          }
        }
      }
    }

    &[data-loaded='true'] {
      .loader {
        animation: 500ms linear 0ms forwards fadeOut;
      }

      .content {
        animation: 500ms linear 500ms forwards fadeIn;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }

        to {
          opacity: 1;
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
        }

        to {
          opacity: 0;
        }
      }
    }
  }
}
