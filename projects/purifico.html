<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/><meta name="description" content="I'm Eyo O. Eyo a Frontend Engineer born in Nigeria, currently living in Berlin."><meta name="author" content=""><meta name="theme-color" content="#000000"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="E.O.E."/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta property="og:title" content="Purifico"/><title>Purifico | Eyo O. Eyo</title><link rel="apple-touch-icon" sizes="76x76" href="/assets/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-chrome-512x512.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/favicon/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"><link rel="manifest" href="/assets/favicon/site.webmanifest"><link href="/assets/main.90f1ef43.css" rel="stylesheet"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--><script>document.getElementsByTagName("html")[0].className+=" js"</script></head><body class="no-scroll" data-preloader-displayed="false"> <style>
    .preloader {
        z-index: 15;
        position: fixed;
        width: 100%;
    }

    .preloader .content-wrapper {
        width: 100%;
        height: calc(100vh);
        position: relative;
        text-align: center;
        display: flex;
        flex-wrap: wrap;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #000;
    }

    /**
    * styling for loading animation icon
    **/
    .knot__svg {
        transform: rotate(45deg);
        transform-origin: center;
    }

    .knot__svg .knot-progress {
        fill: none;
        stroke: #fff;
    }

    .knot__svg .knot-progress--path {}
    .knot__svg .knot-progress--fill {
         stroke-width: 3;
         stroke-dasharray: 280; /* length of path */
         stroke-dashoffset: 280;
         animation: dash 3s linear infinite;
    }

    @keyframes dash {
        to {
            stroke-dashoffset: 100;
        }
    }
</style><noscript> <style>
        .preloader {
            display: none;
        }

        body:not([data-preloader-displayed=true]) {
            overflow: initial;
        }
    </style></noscript><div class="preloader"> <svg aria-hidden="true" style="display:none"> <symbol id="preloader-knot" viewBox="0 0 100 100"> <path d="m 32.155932,23.941887 c 0,-15.9217751 19.285111,-23.81904177 30.467958,-12.635488 6.660085,6.715364 5.218757,10.597692 5.218757,45.234689 H 59.360082 V 23.941179 c 0,-12.403488 -18.715364,-12.409001 -18.715364,0 v 5.373423 H 32.162152 Z M 23.92742,67.856123 c -15.9104635,0 -23.7681441,-19.334592 -12.629973,-30.467959 6.57724,-6.571725 10.00674,-5.24081 45.229035,-5.24081 v 8.482565 h -32.59991 c -12.342838,0 -12.392461,18.749295 0,18.749295 h 5.40099 v 8.482564 z m 43.914236,8.228512 c 0,15.844016 -19.213008,23.796419 -30.462302,12.635487 -6.665599,-6.720878 -5.218756,-10.647315 -5.218756,-45.262964 h 8.482564 v 32.62677 c 0,12.364892 18.715365,12.37592 18.715365,0 v -5.40099 h 8.482564 z M 88.700283,62.637367 c -6.627004,6.566212 -10.404431,5.218756 -45.234689,5.218756 v -8.482564 h 32.599909 c 12.397975,0 12.342839,-18.749296 0,-18.749296 h -5.400989 v -8.482564 h 5.400989 c 15.817156,0 23.824697,19.213008 12.635487,30.494819 z"/> </symbol> </svg><div class="content-wrapper"> <svg class="knot__svg" width="100pt" height="100pt"> <use class="knot-progress knot-progress--path" xlink:href="#preloader-knot"/> <use class="knot-progress knot-progress--fill" xlink:href="#preloader-knot"/> </svg><h3 class="white-text">Loading...</h3></div> <svg class="shape" width="100%" height="100vh" preserveAspectRatio="none" viewBox="0 0 1440 800" xmlns:pathdata="http://www.codrops.com/"> <path d="M -44,-50 C -52.71,28.52 15.86,8.186 184,14.69 383.3,22.39 462.5,12.58 638,14 835.5,15.6 987,6.4 1194,13.86 1661,30.68 1652,-36.74 1582,-140.1 1512,-243.5 15.88,-589.5 -44,-50 Z" pathdata:id="M -44,-50 C -137.1,117.4 67.86,445.5 236,452 435.3,459.7 500.5,242.6 676,244 873.5,245.6 957,522.4 1154,594 1593,753.7 1793,226.3 1582,-126 1371,-478.3 219.8,-524.2 -44,-50 Z"></path> </svg></div><main id="page-top"> <header class="ns-header" id="header" g-component="NavigationComponent"><div class="header container"><div class="header__left"> <a href="/" class="header__brand-wrapper"> <span class="header__brand-text">E.O.E.</span> </a></div><div class="header__right"><div class="mobile-toggle js-mobile-menu-toggle" g-ref="mobileMenuToggle"><div class="mobile-toggle__icon"> <span></span> <span></span> <span></span></div></div><ul class="menu-list"><li class="menu-list-item"> <a class="" href="/blog">Writing</a></li><li class="menu-list-item active"> <a class="" href="/projects">Projects</a></li><li class="menu-list-item"> <a class="" href="/about">About</a></li></ul><div class="search js-search" id="search-field" data-animation="on" g-component="SearchComponent"><form class="search-form js-search-form" g-ref="SearchComponent:searchForm"> <label class="sr-only" for="searchInput">Search</label> <input class= "  search-form__input"   autocomplete="off" type="search" name="searchInput" id="searchInput" placeholder="Search..."> <button class="reset search-form__btn"> <svg class="icon" viewBox="0 0 24 24"><title>Search</title> <g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" stroke="currentColor" fill="none" stroke-miterlimit="10"> <line x1="22"   y1="22"   x2="15.656"   y2="15.656"/> <circle cx="10" cy="10" r="8"/> </g> </svg></button></form><div class="search__results js-search-result" g-ref="SearchComponent:searchResultContainer"></div></div></div></div> </header><div class="ns-default-layout"> <section class="ns-default-layout__content"> <style nonce="">
  :root {
      --page-dominant-color: #60CA9F
  }
</style><div class="ns-project-post" itemscope itemtype="https://schema.org/CreativeWork"><div class="project-hero"><div class="project-hero__content"><h1 class="page-heading"> <span itemprop="name" class="display-heading">PURIFICO</span> <span class="display-heading__subtitle"> <span class="article__meta__publish-date">Platform: web</span>, <span class="article__meta__publish-date">Year: 2017</span> </span></h1></div></div><div class="container"><div class="post-wrapper"><h2 id="overview">Overview</h2><p>“Purifico” was conceived as a toolbox for specifically debugging Nodejs programs running in production, and was inspired after I saw a video<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> on how the folks at Netflix were debugging running NodeJs processes leveraging <code>mdb</code>, interestingly enough it coincided with the time we just launched the first version of KongaEZ<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> that was primarily targeted towards Opera Mini, we had downtimes and really all we saw on PM2<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup> was an increase in CPU usage on navigating to a particular url, what was more baffling was that manually navigating to this url never reproduced this particular issue which made it both troubling that it was hard to figure out what was causing the nodes for the app to crash, in the meantime we scaled up the amount of nodes we had running for the app so that there at least the app was available to end users whilst we figured what was happening</p><p>This particular occurrence provided ample time to experiment, and so “Purifico” was born. Thankfully there had been some advancement with this line of thought in the form of <code>llnode</code> which leveraged <code>lldb</code><sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup> and in my opinion was much easier to set up than <code>mdb</code> (the tool referenced in the Netflix video), also a couple of people had already done some groundwork on how to configure and use llnode<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup>.</p><p>We eventually figured out that the issue causing CPU to max out was some run away regex we were using to perform search on the server.</p><p>In 2020, I wouldn’t particularly advise you to use “Purifico” except you are looking to experiment, as the folks at NodeJS have created a node module<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup> also called llnode that makes it fairly easy to set up debugging for NodeJS now.</p><h4 id="references">References</h4><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p><a href="https://www.youtube.com/watch?v=O1YP8QP9gLA" target="_blank">Netflix JavaScript Talks - Debugging Node.js in Production</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:2" role="doc-endnote"><p><a href="#">kongaEZ</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:3" role="doc-endnote"><p><a href="https://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank">PM2</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:4" role="doc-endnote"><p><a href="http://lldb.llvm.org/" target="_blank">lldb</a> <a href="#fnref:4" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:5" role="doc-endnote"><p><a href="http://www.brendangregg.com/blog/2016-07-13/llnode-nodejs-memory-leak-analysis.html" target="_blank">llnode for Node.js Memory Leak Analysis</a> <a href="#fnref:5" class="reversefootnote" role="doc-backlink">↩</a></p></li><li id="fn:6" role="doc-endnote"><p><a href="https://www.npmjs.com/package/llnode" target="_blank">llnode on npm</a> <a href="#fnref:6" class="reversefootnote" role="doc-backlink">↩</a></p></li></ol></div></div></div></div></section> <footer class="ns-footer"><div style="padding:50px 0"><div class="container text-center"><div class="row"><div class="column-sm-12 column-md-6"><h4 class="page-heading page-heading--with-action"> <span class="display-heading display-heading--decorated">Connect;</span></h4><ul class="footer-socials"><li class="social-icon--link"> <a class="" href="https://www.linkedin.com/in/eyo-eyo-9a027a96/" target="_blank" rel="noopener"> <span class="social-icon--title">LinkedIn</span> </a></li><li class="social-icon--link"> <a class="" href="https://github.com/eokoneyo" target="_blank" rel="noopener"> <span class="social-icon--title">GitHub</span> </a></li><li class="social-icon--link"> <a class="" href="https://stackoverflow.com/users/4398075/eyo-okon-eyo?tab=profile" target="_blank" rel="noopener"> <span class="social-icon--title">StackOverflow</span> </a></li><li class="social-icon--link"> <a class="" href="https://twitter.com/eokoneyo" target="_blank" rel="noopener"> <span class="social-icon--title">Twitter</span> </a></li></ul></div></div></div><div class="blog-footer"><div class="container"><div class="row"><div class="column-sm-12 column-lg-6"><div class="dev-details"><p class="endnote_ts">Composed using <a data-disable-visual="true" href="https://jekyllrb.com/" target="_blank" rel="noopener"><b>Jekyll</b></a>.</p><p class="endnote_ts">Content &copy 2023, Eyo O. Eyo.</p><p class="endnote_ts">Build version: <span class="caption_ts">ae7fe22a73ff3dac0c84</span></p></div></div><div class="column-sm-12 column-lg-6"><div class="page-scroll"> <a class="page-scroll--link" href="#page-top">Back to top</a></div></div></div></div></div></div> </footer></div></main> <script src="/assets/main-bundle.402dfe9e.js"></script><script src="/assets/runtime-bundle.0305e1b1.js"></script><script src="/assets/vendors-bundle.57077c0c.js"></script><script nonce='ae7fe22a'>"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js?version=ae7fe22a73ff3dac0c84",{scope:"/"})})</script></body></html>